<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset="UTF-8">
    <title>{% if page.title %}{{ page.title | escape }}{% else %}{{ site.title | escape }}{% endif %}</title>
    <meta name="description" content="{{ page.description | default: site.description | default: site.github.project_tagline }}"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#2E8B57">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    <style>
      body {
        font-family: system-ui, Arial, sans-serif;
        background: #fff;
        color: #222;
        margin: 0;
        padding: 0;
      }
      .page-header {
        display: flex;
        align-items: center;
        gap: 1.5rem;
        background: #fff;
        border-bottom: 1px solid #e0e0e0;
        padding: 1.5rem 2rem 1.5rem 2rem;
      }
      .logo-container img {
        height: 48px;
        width: auto;
        margin-right: 0.5rem;
        vertical-align: middle;
      }
      .header-title {
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
      .project-name {
        font-size: 2rem;
        font-weight: 700;
        margin: 0;
        color: #111;
        letter-spacing: -1px;
      }
      .project-tagline {
        font-size: 1.1rem;
        font-weight: 400;
        color: #555;
        margin: 0.2rem 0 0 0;
      }
      .nav-menu {
        background: #fff;
        border-bottom: 1px solid #e0e0e0;
        margin: 0;
      }
      .nav-menu ul {
        list-style: none;
        margin: 0;
        padding: 0 2rem;
        display: flex;
        flex-wrap: wrap;
        align-items: center;
      }
      .nav-menu a {
        color: #222;
        text-decoration: none;
        padding: 1rem 1.25rem;
        font-weight: 500;
        border-bottom: 2px solid transparent;
        transition: color 0.2s, border-bottom 0.2s, background 0.2s;
        border-radius: 0;
      }
      .nav-menu a:hover, .nav-menu a:focus {
        color: #000;
        background: #f5f5f5;
        border-bottom: 2px solid #111;
      }
      .main-content {
        max-width: 900px;
        margin: 2rem auto 0 auto;
        padding: 2rem 1.5rem 2rem 1.5rem;
        background: #fff;
        border-radius: 0;
        box-shadow: none;
      }
      .footer {
        background: #fff;
        color: #888;
        text-align: center;
        padding: 2rem 1rem 1rem 1rem;
        border-top: 1px solid #e0e0e0;
        margin-top: 3rem;
        font-size: 0.95rem;
      }
      .footer-logos {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 2rem;
        margin-bottom: 1rem;
        flex-wrap: wrap;
      }
      .footer-logos img {
        height: 36px;
        width: auto;
      }
      .footer a {
        color: #222;
        text-decoration: underline;
        margin: 0 0.5rem;
      }
      .footer a:hover {
        color: #000;
      }
      @media (max-width: 700px) {
        .page-header {
          flex-direction: column;
          align-items: flex-start;
          padding: 1rem 1rem 1rem 1rem;
        }
        .main-content {
          padding: 1rem 0.5rem;
        }
        .nav-menu ul {
          flex-direction: column;
          padding: 0 0.5rem;
        }
        .footer-logos {
          flex-direction: column;
          gap: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <a id="skip-to-content" href="#content">Skip to the content.</a>

    <header class="page-header" role="banner">
      <div class="logo-container">
        <img src="{{ '/assets/icon.png' | relative_url }}" alt="Planet4Health Logo">
      </div>
      <div class="header-title">
        <h1 class="project-name">{{ page.title | default: site.title | default: site.github.repository_name }}</h1>
        <span class="project-tagline">{{ page.description | default: site.description | default: site.github.project_tagline }}</span>
      </div>
    </header>

    <nav class="nav-menu">
      <ul>
        <li><a href="{{ '/' | relative_url }}">Home</a></li>
        <li><a href="{{ '/USER_GUIDE.html' | relative_url }}">User Guide</a></li>
        <li><a href="{{ '/DEVELOPER_GUIDE.html' | relative_url }}">Developer Guide</a></li>
        <li><a href="{{ '/API_REFERENCE.html' | relative_url }}">API Reference</a></li>
        <li><a href="{{ '/ARCHITECTURE.html' | relative_url }}">Architecture</a></li>
        <li><a href="{{ '/NOTIFICATION_FEATURE_SUMMARY.html' | relative_url }}">Notifications</a></li>
        <li><a href="{{ '/PRIVACY.html' | relative_url }}">Privacy</a></li>
        <li><a href="{{ site.github.repository_url }}" target="_blank">GitHub</a></li>
      </ul>
    </nav>

    <main id="content" class="main-content" role="main">
      {{ content }}
      <footer class="footer">
        <div class="footer-logos">
          <img src="{{ '/assets/p4h_logo_horizontal.png' | relative_url }}" alt="Planet4Health logo">
          <img src="https://planet4health.eu/wp-content/uploads/2024/03/eu-logo.png" alt="Funded by the European Union" style="background:#fff; padding:2px 8px; border-radius:6px;">
        </div>
        <p>Part of the <a href="https://planet4health.eu" target="_blank">Planet4Health</a> project. Funded by the European Union under Horizon Europe (Grant Agreement No. 101137165).</p>
        <p>
          <a href="https://planet4health.eu" target="_blank">Planet4Health Project</a> |
          <a href="{{ site.github.repository_url }}" target="_blank">GitHub Repository</a> |
          <a href="{{ '/PRIVACY.html' | relative_url }}">Privacy Policy</a>
        </p>
        <p style="margin-top: 1.5rem; font-size: 0.9rem; opacity: 0.7;">
          Views and opinions expressed are those of the author(s) only and do not necessarily reflect those of the European Union or the European Health and Digital Executive Agency (HADEA).
        </p>
      </footer>
    </main>

    <!-- Mermaid.js for flowcharts -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
      if (window.mermaid) {
        mermaid.initialize({ startOnLoad: true });
      }
    </script>
  </body>
</html>
